load('4.mat')
P = double(P);

net = network(1, 2, [1; 1], [1; 0], [0 0; 1 0], [0 1]);

net.inputs{1}.size = 2;
net.layers{1}.size = 12;
net.layers{2}.size = 8;

net.layers{1}.transferFcn = 'hardlim';
net.layers{2}.transferFcn = 'hardlim';

net.IW{1, 1} = [
    -2, 1;
    -0.5, -1;
    0.5, 1;
    -2, 1;
    2, -1;
    0.5, 1;
    -0.5, -1;
    2, -1;
    -1/3, 1;
    -3, -1;
    3, 1;
    1/3, -1;
];
net.b{1} = [ 0, 1, -1, 1, -1, -0.5, 0.5, 0, -1/3, 2, -2, 1/3 ]';

net.LW{2, 1} = [ 
    1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0;
    0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0;
    0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0;
    0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0;
    0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0;
    0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0;
    0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 1;
    0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1;
];
net.b{2} = [ -1.5, -1.5, -1.5, -1.5, -2.5, -2.5, -2.5, -2.5 ]';

Y = sim(net, P');
[~,Z] = max(Y);
err = Z ~= T';
sum(err)
%gensim(net)